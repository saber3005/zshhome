# ZSH customizations


alias reload_zsh="source $HOME/.zshrc"
alias composer="php -n /usr/local/bin/composer"
alias docker_env="/Applications/Docker/Docker\ Quickstart\ Terminal.app/Contents/Resources/Scripts/start.sh"

# Custom Git shortcuts
alias gph="git push heroku"
alias grp="git pull --rebase && git push"
alias gfu="git pull upstream master"
alias gba="git branch -a"
alias grm="git rebase master"

# Necessary for php-version to work
if hash brew 2>/dev/null && [[ $(brew ls --versions php-version) != '' ]]; then
  source $(brew --prefix php-version)/php-version.sh
fi

# Autocompletion for Lunchy
if hash gem 2>/dev/null && gem which lunchy 2>/dev/null; then
  LUNCHY_DIR=$(dirname `gem which lunchy`)/../extras
  if [ -f $LUNCHY_DIR/lunchy-completion.zsh ]; then
    . $LUNCHY_DIR/lunchy-completion.zsh
  fi
fi

export NVM_DIR="$HOME/.nvm"
  . "$(brew --prefix nvm)/nvm.sh"

# place this after nvm initialization!
autoload -U add-zsh-hook
load-nvmrc() {
  if [[ -f .nvmrc && -r .nvmrc ]]; then
    nvm use
  elif [[ $(nvm version) != $(nvm version default)  ]]; then
    echo "Reverting to nvm default version"
    nvm use default
  fi
}
add-zsh-hook chpwd load-nvmrc
load-nvmrc

# Java quick-select
use_java(){
  export JAVA_HOME=`/usr/libexec/java_home -v $1`
}
